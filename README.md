# GitLab å‘¨æŠ¥ç”Ÿæˆå™¨

> åŸºäº DeepSeek AI çš„ç°ä»£åŒ– Tampermonkey è„šæœ¬ï¼Œè‡ªåŠ¨ç”Ÿæˆå·¥ä½œå‘¨æŠ¥

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ¤– **AI æ™ºèƒ½ç”Ÿæˆ**: é›†æˆ DeepSeek AIï¼Œæ ¹æ® GitLab æ´»åŠ¨è®°å½•æ™ºèƒ½ç”Ÿæˆå‘¨æŠ¥
- ğŸ“Š **æ•°æ®è‡ªåŠ¨è·å–**: é€šè¿‡ GitLab API è‡ªåŠ¨è·å–æŒ‡å®šæ—¶é—´èŒƒå›´å†…çš„æ‰€æœ‰æ´»åŠ¨è®°å½•
- ğŸ” **æ™ºèƒ½ç­›é€‰**: æ”¯æŒæŒ‰äº‹ä»¶ç±»å‹ã€æ ‡é¢˜æœç´¢ç­‰å¤šç»´åº¦ç­›é€‰æ•°æ®
- ğŸ“‹ **æ•°æ®ç®¡ç†**: æ”¯æŒå…¨é€‰/å–æ¶ˆå…¨é€‰ã€åˆ†é¡µæ˜¾ç¤ºã€æ’åºç­‰æ•°æ®æ“ä½œ
- ğŸ“¤ **å¤šç§å¯¼å‡º**: æ”¯æŒå¤åˆ¶å‘¨æŠ¥åˆ°å‰ªè´´æ¿ã€å¯¼å‡º CSV æ•°æ®æ–‡ä»¶
- ğŸ¨ **ç°ä»£åŒ– UI**: é‡‡ç”¨ JSX ç»„ä»¶åŒ–æ¶æ„ï¼Œä¼˜é›…çš„ç”¨æˆ·ç•Œé¢è®¾è®¡
- ğŸŒ™ **ä¸»é¢˜åˆ‡æ¢**: æ”¯æŒæ˜æš—ä¸»é¢˜å’Œç³»ç»Ÿè‡ªåŠ¨åˆ‡æ¢
- ğŸ“± **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸ï¼Œç§»åŠ¨ç«¯å‹å¥½
- âš¡ **æ€§èƒ½ä¼˜åŒ–**: DOM ç¼“å­˜ã€é˜²æŠ–å¤„ç†ã€åŠ¨ç”»ä¼˜åŒ–ç­‰å¤šé‡æ€§èƒ½ä¼˜åŒ–
- ğŸ”§ **é…ç½®ç®¡ç†**: å®Œæ•´çš„è®¾ç½®é¢æ¿ï¼Œæ”¯æŒ GitLab å’Œ AI é…ç½®ç®¡ç†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä¸¤ç§ä½¿ç”¨æ¨¡å¼

#### ğŸ”§ æ²¹çŒ´æ’ä»¶æ¨¡å¼ï¼ˆæ¨èï¼‰
1. å®‰è£… [Tampermonkey](https://tampermonkey.net/) æµè§ˆå™¨æ‰©å±•
2. ä¸‹è½½å¹¶å®‰è£…è„šæœ¬æ–‡ä»¶ `gitlab-weekly-report.user.js`
3. åœ¨ GitLab é¡µé¢ä¸Šç‚¹å‡» "GitLab å‘¨æŠ¥" æŒ‰é’®
4. é…ç½® API å¯†é’¥å¹¶å¼€å§‹ä½¿ç”¨

#### ğŸŒ Web ç½‘é¡µæ¨¡å¼
1. ç›´æ¥è®¿é—® Web ç‰ˆæœ¬é¡µé¢
2. Web æ¨¡å¼ä¸‹ä¼šç›´æ¥æ˜¾ç¤ºå…¨å±ç•Œé¢ï¼Œæ— éœ€ç‚¹å‡»æŒ‰é’®è§¦å‘
3. åœ¨ GitLab é¡µé¢ä¸Šä½¿ç”¨ï¼ˆå¯èƒ½å­˜åœ¨è·¨åŸŸé™åˆ¶ï¼‰
4. é…ç½® API å¯†é’¥å¹¶å¼€å§‹ä½¿ç”¨

> **æ³¨æ„ï¼š** æ²¹çŒ´æ’ä»¶æ¨¡å¼åŠŸèƒ½æ›´å®Œæ•´ï¼Œæ”¯æŒè·¨åŸŸè¯·æ±‚å’Œæ›´å¥½çš„å­˜å‚¨åŠŸèƒ½

### 1. å®‰è£…è„šæœ¬
1. å®‰è£… [Tampermonkey](https://tampermonkey.net/) æµè§ˆå™¨æ‰©å±•
2. ç‚¹å‡» `dist/gitlab-weekly-report.user.js` å®‰è£…è„šæœ¬
3. è®¿é—®é…ç½®çš„ GitLab ç«™ç‚¹ï¼ˆé»˜è®¤ï¼šhttps://www.lejuhub.comï¼‰

### 2. é¦–æ¬¡é…ç½®
1. åœ¨ GitLab é¡µé¢ç‚¹å‡»å³ä¸‹è§’çš„"å‘¨æŠ¥"æŒ‰é’®æ‰“å¼€é¢æ¿
2. ç‚¹å‡»è®¾ç½®æŒ‰é’®ï¼ˆâš™ï¸ï¼‰è¿›å…¥é…ç½®é¡µé¢
3. é…ç½®å¿…è¦ä¿¡æ¯ï¼š
   - **GitLab Access Token**: ç”¨äºè®¿é—® GitLab API çš„ä»¤ç‰Œ
   - **GitLab API URL**: GitLab API åœ°å€ï¼ˆé»˜è®¤ï¼šhttps://www.lejuhub.com/api/v4ï¼‰
   - **DeepSeek API Key**: ç”¨äº AI ç”Ÿæˆå‘¨æŠ¥çš„ API å¯†é’¥
   - **DeepSeek æ¨¡å‹**: AI æ¨¡å‹é€‰æ‹©ï¼ˆé»˜è®¤ï¼šdeepseek-chatï¼‰
   - **ç³»ç»Ÿæç¤ºè¯**: è‡ªå®šä¹‰ AI ç”Ÿæˆå‘¨æŠ¥çš„é£æ ¼å’Œè¦æ±‚

### 3. ç”Ÿæˆå‘¨æŠ¥
1. **é€‰æ‹©æ—¶é—´èŒƒå›´**: ä½¿ç”¨å¿«æ·æŒ‰é’®ï¼ˆæœ¬å‘¨/ä¸Šå‘¨/æœ¬æœˆ/ä¸Šæœˆï¼‰æˆ–æ‰‹åŠ¨é€‰æ‹©æ—¥æœŸ
2. **è·å–æ•°æ®**: ç‚¹å‡»"åˆ·æ–°æ•°æ®"æŒ‰é’®ä» GitLab è·å–æ´»åŠ¨è®°å½•
3. **ç­›é€‰æ•°æ®**: 
   - æŒ‰äº‹ä»¶ç±»å‹ç­›é€‰ï¼ˆPushã€Issueã€MergeRequest ç­‰ï¼‰
   - ä½¿ç”¨æœç´¢æ¡†æŒ‰æ ‡é¢˜ç­›é€‰
   - è°ƒæ•´æ¯é¡µæ˜¾ç¤ºæ•°é‡
4. **é€‰æ‹©è®°å½•**: å‹¾é€‰è¦åŒ…å«åœ¨å‘¨æŠ¥ä¸­çš„æ´»åŠ¨è®°å½•ï¼ˆæ”¯æŒå…¨é€‰ï¼‰
5. **æ·»åŠ è¯´æ˜**: åœ¨"é™„åŠ è¯´æ˜"æ¡†ä¸­è¾“å…¥é¢å¤–è¦æ±‚ï¼ˆå¯é€‰ï¼‰
6. **ç”Ÿæˆå‘¨æŠ¥**: ç‚¹å‡»"ç”Ÿæˆå‘¨æŠ¥"æŒ‰é’®ï¼ŒAI å°†è‡ªåŠ¨ç”Ÿæˆå‘¨æŠ¥å†…å®¹
7. **å¯¼å‡ºç»“æœ**: å¯ä»¥å¤åˆ¶å‘¨æŠ¥å†…å®¹æˆ–å¯¼å‡ºåŸå§‹æ•°æ®ä¸º CSV æ–‡ä»¶

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm æˆ– yarn

### å¼€å‘æ¨¡å¼è¯´æ˜

- **æ²¹çŒ´æ’ä»¶æ¨¡å¼**: è¿è¡Œåœ¨ `http://localhost:3002`ï¼Œç”Ÿæˆ `.user.js` æ–‡ä»¶
- **Webç½‘é¡µæ¨¡å¼**: è¿è¡Œåœ¨ `http://localhost:3003`ï¼Œç”Ÿæˆ `.web.js` å’Œ `index.html` æ–‡ä»¶
- **ç¯å¢ƒè‡ªé€‚åº”**: ä»£ç ä¼šè‡ªåŠ¨æ£€æµ‹è¿è¡Œç¯å¢ƒå¹¶ä½¿ç”¨ç›¸åº”çš„API

### æŠ€æœ¯æ ˆ

- **æ„å»ºå·¥å…·**: Rollup + Babel
- **UI æ¡†æ¶**: è‡ªå®šä¹‰ JSX Runtime
- **æ ·å¼å¤„ç†**: Less + PostCSS
- **ä»£ç è§„èŒƒ**: ESLint + Prettier
- **API è¯·æ±‚**: GM_xmlhttpRequest (Tampermonkey API)
- **å­˜å‚¨**: LocalStorage
- **ä¸»é¢˜ç³»ç»Ÿ**: CSS å˜é‡ + ç³»ç»Ÿä¸»é¢˜æ£€æµ‹

### é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ main.js           # æ²¹çŒ´æ’ä»¶æ¨¡å¼å…¥å£æ–‡ä»¶
â”œâ”€â”€ web-entry.js      # Web ç½‘é¡µæ¨¡å¼å…¥å£æ–‡ä»¶
â”œâ”€â”€ core/             # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ components/       # UI ç»„ä»¶
â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°å’Œé€‚é…å™¨
â”œâ”€â”€ index.js          # ä¸»å…¥å£æ–‡ä»¶ï¼ŒåŒ…å«åˆ†é¡µã€ç­›é€‰ã€æ’åºé€»è¾‘
â”œâ”€â”€ config.js         # é…ç½®ç®¡ç†ï¼ŒåŒ…å«é»˜è®¤è®¾ç½®å’Œä¸»é¢˜å®šä¹‰
â”œâ”€â”€ api.js            # API è°ƒç”¨å°è£…ï¼ŒGitLab å’Œ DeepSeek API
â”œâ”€â”€ ui.js             # UI æ ¸å¿ƒåŠŸèƒ½ï¼Œä¸»é¢˜åˆ‡æ¢ã€é€šçŸ¥ç³»ç»Ÿ
â”œâ”€â”€ ui-panels.js      # é¢æ¿åˆ›å»ºå’Œäº‹ä»¶ç»‘å®š
â”œâ”€â”€ utils.js          # å·¥å…·å‡½æ•°ï¼Œæ—¥æœŸå¤„ç†ã€CSV å¯¼å‡ºç­‰
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ jsx-runtime.js    # è‡ªå®šä¹‰ JSX è¿è¡Œæ—¶
â”œâ”€â”€ ai-panel.jsx      # AI é¢æ¿ç»„ä»¶ï¼ˆå·¦ä¾§ï¼‰
â”œâ”€â”€ ai-panel.less     # AI é¢æ¿æ ·å¼
â”œâ”€â”€ data-panel.jsx    # æ•°æ®é¢æ¿ç»„ä»¶ï¼ˆå³ä¾§ï¼‰
â”œâ”€â”€ data-panel.less   # æ•°æ®é¢æ¿æ ·å¼

```